{
    "WORKFLOWS": "MAPPING,TRIMMING,QC", #which workflows do you want to run
    "POSTPROCESSING" : "COUNTING,DE,UCSC,PEAKS,ANNOTATE", # no specific order needed
    "REFERENCE": "GENOMES", #where to find the reference genomes
    "BINS": "snakes/scripts", #where to find the scripts used in the workflow, if you soft-link the snake git to Workflow, use this path
    "MAXTHREADS": "20", #maximum number of cores to use
    "GENOME": { #which genomes to use and how the reference fasta is named, key is subdir of REFERENCE and value is name of fasta
                "Dm6": "dm6"
              },
    "NAME": { #extension for genome file name in case different typed of reference are used, e.g. genomic, artificial, organelle ...
              "Dm6": {#first key should be same than for GENOME
                      "unpaired": { #Whatever identifier you want to use for this dataset e.g. Date, Labname, treatment, ...
                                    "star": ""  #Key is identifier for this set of options, e.g. mapper name, standard, fancynewmethod, ... Value is either empty or can be a string that is part of the genome name, e.g. extended, artificial ...
                                  },
                      "paired": { #Whatever identifier you want to use for this dataset e.g. Date, Labname, treatment, ...
                                  "star": ""  #Key is identifier for this set of options, e.g. mapper name, standard, fancynewmethod, ... Value is either empty or can be a string that is part of the genome name, e.g. extended, artificial ...
                                }
                     }
            },
    "SOURCE": {  #which organisms are to be parsed for which samples
                 "Dm6": { #key is subdir of REFERENCE, see GENOME, you can specify which genomes to use for which dataset identifier, e.g. unpaired with setting star will use dm6 here
                          "unpaired": {
                              "star": "Dm6"
                          },
                          "paired": {
                              "star": "Dm6"
                          }
                        }
              },
    "SAMPLES": {  #which samples to analyze
                  "Dm6": { #key for source and genome
                           "unpaired": {      # sample id
                                              "star": ["GSM461177_untreat_paired_subset_r1","GSM461177_untreat_paired_subset_r2"] # setup and list of samples you whish to analyze
                                       },
                           "paired": {      # sample id
                                            "star": ["GSM461177_untreat_paired_subset"] # setup and list of samples you whish to analyze
                                     }
                         }
               },
    "SEQUENCING" : {
        "Dm6": { #key for source and genome
                 "unpaired": {      # sample id
                                    "star": "single" # setup and sequencing type, either paired or single
                             },
                 "paired": {      # sample id
                                  "star": "paired,fr" # setup and sequencing type, either paired or single, stranded or unstranded, if unstranded leave empty, else add strandedness according to http://rseqc.sourceforge.net/#infer-experiment-py as comma separated value (rf Assumes a stranded library fr-firststrand [1+-,1-+,2++,2--], fr Assumes a stranded library fr-secondstrand [1++,1--,2+-,2-+])
                           }
               }
    },
#QC options
    "QC": {
        "RUN": "ON", #set to 'OFF' to skip QC
        "Dm6": { #key for source and genome
                 "unpaired": {      # sample id
                                    "star": {
                                        "ENV" : "fastqc",  # name of conda env for QC
                                        "BIN" : "fastqc", # binary for trimming
                                        "OPTIONS":
                                        [
                                            {}
                                        ]
                                    }
                             },
                 "paired": {      # sample id
                                  "star": {
                                      "ENV" : "fastqc",  # name of conda env for QC
                                      "BIN" : "fastqc" # binary for trimming, if no OPTIONS ARE NEEDED THIS CAN BE LEFT EMPTY
                                  }
                           }
               }
    },
#Trimming options
    "TRIMMING": { #options for trimming for each sample/condition
                  "RUN": "ON", # set to 'OFF' if no trimming wanted
                  "Dm6": {
                      "unpaired": {
                          "star": { # See above
                                    "ENV": "trimgalore", # name of conda env for trimming
                                    "BIN": "trim_galore", # name of binary for trimming
                                    "OPTIONS":
                                    [
                                        {  # trimming options here, --paired is not required, will be resolved by rules
                                           "-q": "15",
                                           "--length": "8", #READ_MINLEN discard reads shorter than that
                                           "-e": "0.15"
                                        }
                                    ]
                                  }
                      },
                      "paired": {
                          "star": { # See above
                                    "ENV": "trimgalore", # name of conda env for trimming
                                    "BIN": "trim_galore", # name of binary for trimming
                                    "OPTIONS":
                                    [
                                        {  # trimming options here, --paired is not required, will be resolved by rules
                                           "-q": "15",
                                           "--length": "8", #READ_MINLEN discard reads shorter than that
                                           "-e": "0.15"
                                        }
                                    ]
                                  }
                      }
                  }
                },
#MAPPING options
    "MAPPING": { #options for mapping for each sample/condition
                 "Dm6": {
                     "unpaired": {
                         "star": { # first entry in list is a dict of options for indexing, second for mapping, third can be e.g. appendix to index name, useful especially with minimap if using different kmer sizes
                                   "ENV": "star", # which conda env to use for mapping
                                   "BIN": "STAR", #how the mapper binary is called
                                   "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                                   "OPTIONS":
                                   [
                                       {   #index options
                                           "--sjdbGTFfeatureExon": "exon", #STAR default, add what you need
                                           "--sjdbGTFtagExonParentTranscript": "Parent", #add this if gff3 is used (default for this repo) and select the parent-child relationship according to your gff3 entries
                                           "--genomeSAindexNbases": "13" #indexing options
                                       },
                                       {   #mapping options
                                           "--sjdbGTFfeatureExon": "exon", #STAR default, add what you need
                                           "--sjdbGTFtagExonParentTranscript": "Parent", #add this if gff3 is used (default for this repo) and select the parent-child relationship according to your gff3 entries
                                           "--outSAMprimaryFlag AllBestScore": ""
                                       },
                                       "std" #name extension for index, useful to discriminate between eg std and bisulfite seg index, can be empty or removed
                                   ]
                                 }
                     },
                     "paired": {
                         "star": { # first entry in list is a dict of options for indexing, second for mapping, third can be e.g. appendix to index name, useful especially with minimap if using different kmer sizes
                                   "ENV": "star", # which conda env to use for mapping
                                   "BIN": "STAR", #how the mapper binary is called
                                   "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                                   "OPTIONS":
                                   [
                                       {
                                           "--genomeSAindexNbases": "13"
                                       },
                                       {
                                           "--outSAMprimaryFlag AllBestScore": ""
                                       } #name extension for index can also be skipped, will be set to std by default
                                   ]
                                 }
                     }
                 }
               },
#Count options
    "COUNTING": { #options for counting for each sample/condition, if multiple regions should be counted add them as list
                  "FEATURES": { #which features to count (KEY) and which group they belong to (VALUE)
                                "exon": "Parent", #see MAPPING, this is used to describe the parent-child relationsship in the annotation gff3 file
                                "gene": "ID" #same here
                              },
                  "Dm6": {
                      "unpaired": {
                          "star": {# See above
                                   "ENV": "countreads", #see QC
                                   "BIN": "featureCounts",
                                   "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                                   "OPTIONS":
                                   [
                                       {  # counting options here, --paired is not required, will be resolved by rules, annotation is resolved from Annotation options
                                          "-f": "",
                                          "--fraction": "",
                                          "-O": "",
                                          "-M": "",
                                          "-T": "5"
                                       }
                                   ]
                                  }
                      },
                      "paired": {
                          "star": {# See above
                                   "ENV": "countreads", #see QC
                                   "BIN": "featureCounts",
                                   "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                                   "OPTIONS":
                                   [
                                       {  # counting options here, --paired is not required, will be resolved by rules, annotation is resolved from Annotation options
                                          "-f": "",
                                          "--fraction": "",
                                          "-O": "",
                                          "-M": "",
                                          "-T": "5"
                                       }
                                   ]
                                  }
                      }
                  }
                },
#Annotation options
    "ANNOTATE" : {
        "Dm6": {
            "unpaired": {
                "star": { # See above
                          "ENV": "annotatebed",
                          "BIN": "annotate", #dummy as ucsc has no direct bin but we need the key
                          "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                          "ANNOFEATURE": "gene", #You can specify a set of certain features to annotate here, e.g. 'exon' wil
                          "OPTIONS":
                          [
                              {
                                  "-w": "ON" #-w ON enables one line per feature annotation, including start/end of the feature, output can become quite large, disable by adding empty string ("") as value
                              }
                          ]
                        }
            },
            "paired": {
                "star": { # See above
                          "ENV": "annotatebed",
                          "BIN": "annotate", #dummy as ucsc has no direct bin but we need the key
                          "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                          "ANNOFEATURE": "gene", #You can specify a set of certain features to annotate here, e.g. 'exon' will only annotate exon overlaps, disable specific feature annotation by adding empty string ("") as value
                          "OPTIONS":
                          [
                              {
                                  "-w": "ON" #-w ON enables one line per feature annotation, including start/end of the feature, output can become quite large, disable by adding empty string ("") as value
                              }
                          ]
                        }
            }
        }
    },
#UCSC track generation options
    "UCSC" : {
        "Dm6": {
            "unpaired": {
                "star": { # See above
                          "ENV" : "ucsc",
                          "BIN" : "ucsc", #dummy as ucsc has no direct bin but we need the key
                          "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                          "OPTIONS":
                          [
                              {
                                  "-n" : "DM6_unpaired_Mapping", #name of the hub, replace space with _
                                  "-s" : "dm6_st", #short name for hub, replace space with _
                                  "-l" : "UCSC_DM6_unpaired_Mapping", #long name for track, replace space with _
                                  "-b" : "UCSC_dm6_star" #short name for track, replace space with _
                              }
                          ]
                        }
            },
            "paired": {
                "star": { # See above
                          "ENV" : "ucsc",
                          "BIN" : "ucsc", #dummy as ucsc has no direct bin but we need the key
                          "ANNOTATION": "dm6.gff3.gz", #should only be relevant for star, but who knows
                          "OPTIONS":
                          [
                              {
                                  "-n" : "DM6_paired_Mapping", #name of the hub, replace space with _
                                  "-s" : "dm6_st", #short name for hub, replace space with _
                                  "-l" : "UCSC_DM6_paired_Mapping", #long name for track, replace space with _
                                  "-b" : "UCSC_dm6_star" #short name for track, replace space with _
                              }
                          ]
                        }
            }
        }
    },
#Peak finding options
    "PEAKS" : {
        "Dm6": {
            "unpaired": {
                "star": { # See above
                          "ENV" : "peaks",
                          "BIN" : "peaks", #dummy as ucsc has no direct bin but we need the key
                          "ANNOTATION": "dm6.gff3.gz",
                          "CLIP": "iCLIP",
                          "OPTIONS":
                          [
                              {
                                  "MINPEAKRATIO": "0.6",
                                  "PEAKDISTANCE": "1",
                                  "PEAKWIDTH": "5",
                                  "PEAKCUTOFF": "0.8",
                                  "MINPEAKHEIGHT": "3",
                                  "USRLIMIT": "3"
                              }
                          ]
                        }
            },
            "paired": {
                "star": { # See above
                          "ENV" : "peaks",
                          "BIN" : "peaks", #dummy as ucsc has no direct bin but we need the key
                          "ANNOTATION": "dm6.gff3.gz",
                          "CLIP": "revCLIP",
                          "OPTIONS":
                          [
                              {
                                  "MINPEAKRATIO": "0.6",
                                  "PEAKDISTANCE": "1",
                                  "PEAKWIDTH": "5",
                                  "PEAKCUTOFF": "0.8",
                                  "MINPEAKHEIGHT": "3",
                                  "USRLIMIT": "3"
                              }
                          ]
                        }
            }
        }
    },
#DE options
    "DE": { #options for trimming for each sample/condition
            "Dm6": {
                "unpaired": {
                    "star": {# See above
                             "ENV": "deseq2", #see QC
                             "BIN": "deseq2",
                             "CONDITION":  ["WT","WT"],
                             "TYPE":  ["single","single"],
                             "REPLICATES": ["GSM461177_untreat_paired_subset_r1","GSM461177_untreat_paired_subset_r2"],
                             "OPTIONS":
                             [
                                 {  #Should not be needed
                                 }
                             ]
                            }
                },
                "paired": {
                    "star": {# See above
                             "ENV": "deseq2", #see QC
                             "BIN": "deseq2",
                             "CONDITION":  ["KO","KO"],
                             "TYPE":  ["paired","paired"],
                             "REPLICATES": ["GSM461177_untreat_paired_subset","GSM461177_untreat_paired_subset"],
                             "OPTIONS":
                             [
                                 {  #Should not be needed
                                 }
                             ]
                            }
                }
            }
          }
}
